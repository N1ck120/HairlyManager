<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link href="/css/style.css" rel="stylesheet" type="text/css"/>
    <link href="/css/dudu.css" rel="stylesheet" type="text/css"/>
    <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <script src="/assets/bootstrap/js/bootstrap.bundle.js"></script>
    <script src="js/actions.js"></script>
    <script src="js/account.js"></script>
    <script src="js/dark.js"></script>
</head>
<body>
    <button class="botao-voltar">
        <img class="img-botao-voltar" src="assets/bootstrap-icons/chevron-left.svg">
    </button>
    <h3 align="center" class="mb-3">Gerenciamento de Funcionários</h3>

    <div id="employee-form">
        <h2>Adicionar Funcionário</h2>
        <input type="text" id="employee-name" placeholder="Nome do Funcionário">
        <input type="number" id="employee-salary" placeholder="Salário do Funcionário">
        <button onclick="addEmployee()">Adicionar</button>
    </div>

    <p align="center"><strong>Quantidade de Funcionários:</strong> <span id="employee-count">0</span></p>

    <table id="employee-table">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Salário</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Funcionário 1</td>
                <td>2500.00</td>
                <td><button onclick="removeEmployee(this)">Remover</button></td>
            </tr>
            <tr>
                <td>Funcionário 2</td>
                <td>2800.00</td>
                <td><button onclick="removeEmployee(this)">Remover</button></td>
            </tr>
            <tr>
                <td>Funcionário 3</td>
                <td>3200.00</td>
                <td><button onclick="removeEmployee(this)">Remover</button></td>
            </tr>
        </tbody>
    </table>

    <script>
        // Inicializa a quantidade de funcionários corretamente
        document.getElementById("employee-count").textContent = document.getElementById("employee-table").getElementsByTagName('tbody')[0].rows.length;

        function addEmployee() {
            var name = formatName(document.getElementById("employee-name").value);
            var salary = formatSalary(document.getElementById("employee-salary").value);

            if (name && salary) {
                var table = document.getElementById("employee-table").getElementsByTagName('tbody')[0];
                var newRow = table.insertRow(table.rows.length);
                var cell1 = newRow.insertCell(0);
                var cell2 = newRow.insertCell(1);
                var cell3 = newRow.insertCell(2);

                cell1.innerHTML = name;
                cell2.innerHTML = salary;
                cell3.innerHTML = '<button onclick="removeEmployee(this)">Remover</button>';

                document.getElementById("employee-name").value = "";
                document.getElementById("employee-salary").value = "";

                // Atualiza a quantidade de funcionários
                document.getElementById("employee-count").textContent = table.rows.length;
            }
        }

        function removeEmployee(button) {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);

            // Atualiza a quantidade de funcionários
            document.getElementById("employee-count").textContent = document.getElementById("employee-table").getElementsByTagName('tbody')[0].rows.length;
        }

        function formatName(name) {
            return name.split(' ').map(function (word) {
                if (word.length > 2 && (word !== "de" && word !== "do" && word !== "da" && word !== "dos" && word !== "das")) {
                    return word.charAt(0).toUpperCase() + word.slice(1);
                } else {
                    return word;
                }
            }).join(' ');
        }

        function formatSalary(salary) {
            return parseFloat(salary).toFixed(2);
        }
    </script>
</body>
</html>
